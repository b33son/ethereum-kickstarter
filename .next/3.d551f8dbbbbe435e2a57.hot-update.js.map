{"version":3,"sources":["webpack:///./pages/campaigns/requests/index.js?ffb4"],"names":["RequestIndex","props","requests","map","request","index","address","approversCount","Header","Row","HeaderCell","Body","Cell","console","log","renderRows","context","query","campaign","Campaign","methods","getRequestsCount","call","requestsCount","Promise","all","Array","parseInt","fill","element","spendRequests"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;IAEqBA,Y;;;;;;;;;;;iCAsBN;AAAA;;AACX,aAAO,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACjD,eACE,4DAAC,uEAAD;AACE,eAAKA,KADP;AAEE,cAAIA,KAFN;AAGE,mBAASD,OAHX;AAIE,mBAAS,OAAKH,KAAL,CAAWK,OAJtB;AAKE,0BAAgB,OAAKL,KAAL,CAAWM,cAL7B;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,OAVM,CAAP;AAWD;;;6BACQ;AAAA,UACCC,MADD,GACyC,gEADzC,CACCA,MADD;AAAA,UACSC,GADT,GACyC,gEADzC,CACSA,GADT;AAAA,UACcC,UADd,GACyC,gEADzC,CACcA,UADd;AAAA,UAC0BC,IAD1B,GACyC,gEADzC,CAC0BA,IAD1B;AAAA,UACgCC,IADhC,GACyC,gEADzC,CACgCA,IADhC;;;AAGPC,cAAQC,GAAR,CAAY,KAAKb,KAAjB;AACA,aACE;AAAC,2EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AAAC,uDAAD;AAAA,YAAM,uBAAqB,KAAKA,KAAL,CAAWK,OAAhC,kBAAN;AAAA;AAAA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,+EAAD;AAAA,gBAAQ,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AADF,SAFF;AAQE;AAAC,0EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF;AAEE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF;AAGE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF;AAIE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF;AAKE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF;AAME;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF;AAOE;AAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AADF,WADF;AAYE;AAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF;AAEE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF;AAGE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF;AAIE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF;AAKE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF;AAME;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF;AAOE;AAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF,aADF;AAUG,iBAAKS,UAAL;AAVH;AAZF;AARF,OADF;AAoCD;;;;;;;;;yIA1E4BC,O;;;;;;AACnBV,uB,GAAYU,QAAQC,K,CAApBX,O;AACFY,wB,GAAW,2EAAAC,CAASb,OAAT,C;;uBACWY,SAASE,OAAT,CAAiBC,gBAAjB,GAAoCC,IAApC,E;;;AAAtBC,6B;;uBACuBL,SAASE,OAAT,CAAiBb,cAAjB,GAAkCe,IAAlC,E;;;AAAvBf,8B;;uBAEiBiB,QAAQC,GAAR,CACrBC,MAAMC,SAASJ,aAAT,CAAN,EACGK,IADH,GAEGzB,GAFH,CAEO,UAAC0B,OAAD,EAAUxB,KAAV,EAAoB;AACvB,yBAAOa,SAASE,OAAT,CAAiBU,aAAjB,CAA+BzB,KAA/B,EAAsCiB,IAAtC,EAAP,CADuB,CAC8B;AACtD,iBAJH,CADqB,C;;;AAAjBpB,wB;iDAYC,EAAEI,gBAAF,EAAWJ,kBAAX,EAAqBqB,4BAArB,EAAoChB,8BAApC,E;;;;;;;;;;;;;;;;;;;EAnB+B,gD;;eAArBP,Y;;;;;;;;;;;;;0BAAAA,Y","file":"3.d551f8dbbbbe435e2a57.hot-update.js","sourcesContent":["/*\n * File: /Users/michaelbeeson/Documents/VSCode/ethereum/kickstarter/pages/campaigns/requests/index.js\n */\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../../components/Layout\";\nimport { Button, Table } from \"semantic-ui-react\";\nimport { Link } from \"../../../routes\";\nimport Campaign from \"../../../ethereum/campaign\";\nimport RequestRow from \"../../../components/RequestRow\";\n\nexport default class RequestIndex extends Component {\n  static async getInitialProps(context) {\n    const { address } = context.query;\n    const campaign = Campaign(address);\n    const requestsCount = await campaign.methods.getRequestsCount().call();\n    const approversCount = await campaign.methods.approversCount().call();\n\n    const requests = await Promise.all(\n      Array(parseInt(requestsCount))\n        .fill()\n        .map((element, index) => {\n          return campaign.methods.spendRequests(index).call(); //  returns an individual request\n        })\n    );\n\n    // Example:\n    // Array(5).fill('XY').map( (element, index) => element + '#' + index)\n    //  > (5)Â [\"XY#0\", \"XY#1\", \"XY#2\", \"XY#3\", \"XY#4\"]\n\n    return { address, requests, requestsCount, approversCount };\n  }\n\n  renderRows() {\n    return this.props.requests.map((request, index) => {\n      return (\n        <RequestRow\n          key={index}\n          id={index}\n          request={request}\n          address={this.props.address}\n          approversCount={this.props.approversCount}\n        />\n      );\n    });\n  }\n  render() {\n    const { Header, Row, HeaderCell, Body, Cell } = Table;\n\n    console.log(this.props);\n    return (\n      <Layout>\n        <h3>Requests</h3>\n        <Link route={`/campaigns/${this.props.address}/requests/new`}>\n          <a>\n            <Button primary>Add Request</Button>\n          </a>\n        </Link>\n\n        <Table>\n          <Header>\n            <Row>\n              <HeaderCell>ID</HeaderCell>\n              <HeaderCell>Description</HeaderCell>\n              <HeaderCell>Amount</HeaderCell>\n              <HeaderCell>Recipient</HeaderCell>\n              <HeaderCell>Approval Count</HeaderCell>\n              <HeaderCell>Approve</HeaderCell>\n              <HeaderCell>Finalize</HeaderCell>\n            </Row>\n          </Header>\n          <Body>\n            <Row>\n              <Cell>ID</Cell>\n              <Cell>Description</Cell>\n              <Cell>Amount</Cell>\n              <Cell>Recipient</Cell>\n              <Cell>Approval Count</Cell>\n              <Cell>Approve</Cell>\n              <Cell>Finalize</Cell>\n            </Row>\n            {this.renderRows()}\n          </Body>\n        </Table>\n      </Layout>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/campaigns/requests/index.js"],"sourceRoot":""}