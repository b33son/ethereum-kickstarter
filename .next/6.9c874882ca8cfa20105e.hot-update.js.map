{"version":3,"sources":["webpack:///./pages/campaigns/requests/new.js?9331"],"names":["RequestNew","state","value","description","recipient","loading","errorMessage","onSubmit","event","preventDefault","setState","campaign","Campaign","props","address","web3","eth","getAccounts","accounts","val","utils","toWei","methods","createRequest","send","from","Router","pushRoute","console","log","message","target","query"],"mappings":"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","file":"6.9c874882ca8cfa20105e.hot-update.js","sourcesContent":["/*\n * File: /Users/michaelbeeson/Documents/VSCode/ethereum/kickstarter/pages/campaigns/requests/new.js\n */\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../../components/Layout\";\nimport { Form, Button, Message, Input } from \"semantic-ui-react\";\nimport Campaign from \"../../../ethereum/campaign\";\nimport web3 from \"../../../ethereum/web3\";\nimport { Link, Router } from \"../../../routes\";\n\nexport default class RequestNew extends Component {\n  state = {\n    value: \"\",\n    description: \"\",\n    recipient: \"\",\n    loading: false,\n    errorMessage: \"\"\n  };\n  static async getInitialProps(props) {\n    const { address } = props.query;\n    return { address };\n  }\n\n  onSubmit = async event => {\n    event.preventDefault();\n    this.setState({ loading: true, errorMessage: \"\" });\n    const campaign = Campaign(this.props.address);\n    const { description, value, recipient } = this.state;\n\n    try {\n      const accounts = await web3.eth.getAccounts();\n      const val = web3.utils.toWei(value, \"ether\");\n      await campaign.methods\n        .createRequest(description, val, recipient)\n        .send({ from: accounts[0] });\n      this.setState({ loading: false, errorMessage: \"\" });\n      Router.pushRoute(`/campaigns/${this.props.address}`);\n    } catch (error) {\n      console.log(error);\n      this.setState({ loading: false, errorMessage: error.message });\n    }\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Link route={`/campaigns/${this.props.address}/requests`}>\n          <a>\n            <Button>Back</Button>\n          </a>\n        </Link>\n        <h3>Create A New Request</h3>\n        <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n          <Form.Field>\n            <label>Description</label>\n            <Input\n              value={this.state.description}\n              onChange={event =>\n                this.setState({ description: event.target.value })\n              }\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Requested Amount in Ether</label>\n            <Input\n              value={this.state.value}\n              onChange={event => this.setState({ value: event.target.value })}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Recipient</label>\n            <Input\n              value={this.state.recipient}\n              onChange={event =>\n                this.setState({ recipient: event.target.value })\n              }\n            />\n          </Form.Field>\n          <Message error header=\"Oops\" content={this.state.errorMessage} />\n          <Button primary loading={this.state.loading}>\n            Create\n          </Button>\n        </Form>\n      </Layout>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/campaigns/requests/new.js"],"sourceRoot":""}